//*****************************************************************************
//
// Имя файла    : 'core.cpp'
// Заголовок    : Ядро контроллера
// Автор        : Барышников Р. А.
// Контакты     : plexus_bra@rambler.ru
// Дата         : 13.10.2012
//
//*****************************************************************************

#include "core\core.h"
#include "core\clock.h"
#include "core\ta.h"

// =============================================================================
//                                 Отладка
// =============================================================================

// =============================================================================
//                                Костанты
// =============================================================================

// =============================================================================
//                                 Макросы
// =============================================================================

// =============================================================================
//                           Глобальные переменные
// =============================================================================

// =============================================================================
//                             Прототипы функций
// =============================================================================

    extern  void AppMain (void);

// ============================================================================
///    
///                           Точка входа main
///
// ============================================================================

int main (void)
{
    WDTCTL = WDTPW + WDTHOLD;
    // Настройка DCO генератора на частоту 8 МГц
    ConfigDCO(DCO_1MHZ);
    // Источник тактирования CPU - DCO
    ConfigMCLK(MCLK_DIV_1, MCLK_DCO, MCLK_ON);
    // Источник тактирования SMCLK - DCO
    ConfigSMCLK(SMCLK_DIV_1, SMCLK_DCO, SMCLK_ON);
    // Источником тактирования Таймера A является SMCLK
    // (см. описание ta.cpp)
//    ta.Configure(1000, 0);
    
    AppMain();
    
    return 0;
}